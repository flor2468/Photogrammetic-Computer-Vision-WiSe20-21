im1 = imread('bilder/image_without_points', 'jpg');
im2 = imread('bilder/image_with_points.jpg', 'jpg');

% clicking the points in the order of the definition in p2
% 1.) [0, 11.8, 9.4]
% 2.) [6.3, 11.8, 9.4]
% 3.) [0, 0, 9.4]
% 4.) [6.3, 0, 9.4]
% 5.) [0, 0, 0]
% 6.) [6.3, 0, 0]

x1 = [18.5;99.1;13.8;242.1;151.1;243.1]
y1 = [46.8;146.5;221.8;52.5;147.1;224.5]

x2 = [44.7;-103.6;47.4;-152.2;-153.3;-149.4]
y2 = [-142.4;-146.6;-150.1;59.4;-96.9;52.7]
z2 = [258.7;154.4;59.8;245.2;151.3;46.9]

%p1 = find_points(im1);
p1 = [x1 , y1]
% p2 = [0, 11.8, 9.4; 
%      6.3, 11.8, 9.4; 
%      0, 0, 9.4; 
%      6.3, 0, 9.4;
%      0, 0, 0; 
%      6.3, 0, 0]
      
p2 = [x2, y2, z2]

P = spatial_resection(p1, p2)

% examples for P from the lecture

%P = [-559.425, -69.134, 25.301, -998.081;
%     -68.914, -418.097, 355.103, 388.586;
%     -0.451, 0.211, 0.866, -0.679]
     
%P = [-0.6581, 0.5764, -0.0040, 132.5556;
%     -0.1568, -0.1801, -0.9210, 270.3348;
%     -0.0006, -0.0005, 0.0001, 1.0000]
     
     
rq_decomposition(P)